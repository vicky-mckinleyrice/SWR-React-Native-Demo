"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=(e=require("swr"))&&"object"==typeof e&&"default"in e?e.default:e,n=require("react"),r=require("react-native"),a=require("@react-navigation/native");function u(e){var t=e.mutate,u=e.revalidateOnFocus,c=void 0===u||u,i=e.revalidateOnReconnect,l=void 0===i||i,o=e.focusThrottleInterval,v=void 0===o?5e3:o,f=a.useNavigation().addListener,s=n.useRef(null),d=n.useRef(t);n.useEffect((function(){d.current=t}));var R=n.useRef(r.Platform.select({web:1,default:0})),p=n.useRef(r.AppState.currentState),m=n.useRef(null);n.useEffect((function(){var e=null;if(l&&"web"!==r.Platform.OS){var t=require("@react-native-community/netinfo").default;e=t.addEventListener((function(e){var t;!1===(null==(t=m.current)?void 0:t.isInternetReachable)&&e.isConnected&&e.isInternetReachable&&d.current(),m.current=e}))}var n=function(){R.current<1?R.current++:v&&s.current&&Date.now()-s.current<=v||(s.current=Date.now(),d.current())},a=function(e){p.current.match(/inactive|background/)&&"active"===e&&"web"!==r.Platform.OS&&n(),p.current=e},u=null;return c&&(u=f("focus",n),r.AppState.addEventListener("change",a)),function(){c&&(null==u||u(),r.AppState.removeEventListener("change",a)),l&&(null==e||e())}}),[f,v,c,l])}exports.default=function(e,n,r){void 0===n&&(n=null);var a=t(e,n,r);return u({mutate:a.mutate,revalidateOnFocus:null==r?void 0:r.revalidateOnFocus,revalidateOnReconnect:null==r?void 0:r.revalidateOnReconnect,focusThrottleInterval:null==r?void 0:r.focusThrottleInterval}),a},exports.useSWRNativeRevalidate=u;
//# sourceMappingURL=swr-react-native.cjs.production.min.js.map
